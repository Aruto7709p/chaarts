<!DOCTYPE html><html lang="fr" class="no-js"><head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        
 <title>chaarts — Bar charts</title>
 <meta property="og:url" content="https://ffoodd.github.io/chaarts/bar-charts.html">
 <meta property="og:title" content="chaarts — Bar charts">
 <meta property="og:type" content="article">
 <meta property="og:description" name="description" content="Charts with HTML & CSS">
 <meta name="twitter:card" content="summary">

        <script>
          document.documentElement.classList.remove('no-js');
          document.documentElement.classList.add('js');
        </script>
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/styles.min.css" media="all" integrity="sha384-pUsSu6bIEy4e4b17jBjH4SpmojL+d5MeHKW6S92//ZN3x6smha6IF4HQVWQrV6hH" crossorigin="anonymous">
        <link rel="stylesheet" href="css/print.min.css" media="print" integrity="sha384-7aH1oMIjSvKIBeXPCudP673TBEx4w/HEse7vdJM+NIHzWMy46dWgpGZvsdMSGdXs" crossorigin="anonymous">
    </head>
    <body itemscope itemtype="http://schema.org/WebPage">
      <header role="banner">
        
          <div>
            <a href="#nav" class="sr-only sr-only-focusable">Aller à la navigation</a>
            <a href="#main" class="sr-only sr-only-focusable">Aller au contenu</a>
          </div>
        

        <nav role="navigation" id="nav" aria-label="Navigation principale">
          
<ul class="fly-out">
  <li><a href="./index.html">Accueil</a></li>
  <li><a aria-current="page">Graphique en barre</a></li>
  <li><a href="./line-charts.html">Graphique linéaire</a></li>
  <li><a href="./column-charts.html">Histogramme</a></li>
  <li><a href="./pie-charts.html">Graphique en tarte</a></li>
  <li><a href="./radar-charts.html">Graphique radar</a></li>
</ul>

        </nav>
      </header>

      <main role="main" id="main" tabindex="-1" itemprop="mainContentOfPage">
        
  <h1>Graphique en barre</h1>

  <p>
   Ce type de graphique sert à représenter <strong>des données à une dimension</strong>
   (dans notre exemple, une ligne de temps).
   Il repose sur les <strong>grilles et les variables CSS</strong>,
   technique inspirée
   d’<a hreflang="en" href="https://css-tricks.com/css-charts-grid-custom-properties/">un article de <cite>Miriam Suzanne</cite> sur
   <abbr lang="en" title="Cascading StyleSheet" aria-label="Cascading StyleSheet">CSS</abbr> Tricks</a>
   légèrement agrémentée pour en améliorer l’accessibilité.
   Pour vous en servir, c’est simple :
  </p>

  <ol>
   <li>
    Sur le <strong>tableau</strong>, une variable <var>--scale</var> permet de définir la valeur maximale du graphique,
    afin d’en déterminer l’échelle. Concrètement, une grille va être générée avec :
    <ul>
     <li>la première colonne pour les entêtes <code><th></code> arbitrairement fixée à <code>12.5em</code> ;</li>
     <li>puis la fonction CSS <code>repeat()</code> crée une colonne par unité de l’échelle — dans l’exemple, 3000 colonnes ;</li>
     <li>enfin une dernière colonne mesurant <code>10ch</code>, soit l’espace suffisant pour dix lettres.</li>
    </ul>
   </li>
   <li>
    <strong>Sur chaque cellule</strong> <code><td></code>, une variable <var>--value</var> permet de la placer sur la grille,
    appliquée à <code>grid-column-end</code>.
    De plus grâce à de savants calculs reposant sur cette valeur, le dégradé en arrière-plan est dimensionné et positionné de façon à
    refléter la proportion représentée par cette valeur sur l’échelle donnée (du vert pour presque rien au rouge pour presque tout).
   </li>
   <li>
    <strong>Dans chaque cellule</strong>, le contenu doit reprendre la valeur et son unité dans un élément <code><span></code>, éventuellement
    balisée avec <code><abbr></code> (et <code>aria-label</code> pour suppléer <code>title</code>) si un intitulé peut être explicité pour l’unité.
    Cette valeur est poussée à droite de la grille, et son texte
    sert de masque pour le dégradé en arrière-plan — lui permettant d’être de la couleur correspondante à la fin du dégradé pour la position donnée.
   </li>
  </ol>

  
   <div class="table-container bar-container" role="group" aria-labelledby="caption-1">
   <div class="fieldset d-flex sm-hidden">
    <p class="label no-margin">
     <strong id="label-1">Interrupteur</strong><br>
     <span id="description-1">Permet de désactiver les styles sur le tableau suivant.</span>
    </p>
    <button type="button" class="ml-auto fw-400 no-border p-relative disable-css" role="switch" aria-checked="true" aria-labelledby="label-1" aria-describedby="description-1">
     <span>Guilleret</span>
     <span>Sobre</span>
    </button>
   </div>

   <table class="chaarts bar" style="--scale: 3000" id="bar">
    <caption id="caption-1">Temps de chargement pour <a href="https://www.ffoodd.fr" target="_blank" rel="noopener noreferrer">ffoodd.fr</a></caption>
    <thead class="sr-only">
     <tr>
      <td></td>
      <th scope="col">Temps de chargement cumulé</th>
     </tr>
    </thead>
    <tbody>
     
  <tr>
    <th scope="row">Temps : backend</th>
    <td style="--value: 4">
      <span>4 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Temps : Frontend</th>
    <td style="--value: 96">
      <span>96 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier octet</th>
    <td style="--value: 102">
      <span>102 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : dernier octet</th>
    <td style="--value: 129">
      <span>129 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : première image</th>
    <td style="--value: 188">
      <span>188 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier CSS</th>
    <td style="--value: 194">
      <span>194 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier JS</th>
    <td style="--value: 326">
      <span>326 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">DOM Interactif</th>
    <td style="--value: 836">
      <span>836 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Chargement du DOM</th>
    <td style="--value: 836">
      <span>836 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">DOM complet</th>
    <td style="--value: 2561">
      <span>2561 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Trafic HTTP terminé</th>
    <td style="--value: 2980">
      <span>2980 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

    </tbody>
   </table>
  </div>

  <details>
   <summary>Le <abbr lang="en" title="HyperText Markup Language" aria-label="HyperText Markup Language">HTML</abbr></summary>
   <div>
    <pre>     <code class="language-markup">
  <table class="chaarts bar" style="--scale: 3000">
   <caption id="caption-1">Temps de chargement pour ffoodd.fr</caption>
   <thead class="sr-only">
     <tr>
       <td></td>
       <th scope="col">Temps de chargement cumulé</th>
     </tr>
   </thead>
   <tbody>
     <tr>
       <th scope="row">Temps : backend</th>
       <td style="--value: 4">
         <span>4 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
       </td>
     </tr>
     <tr>[…]</tr>
   </tbody>
  </table>
     </code>
    </pre>
   </div>
  </details>
  <details>
   <summary>Le <abbr lang="en" title="Cascading StyleSheet" aria-label="Cascading StyleSheet">css</abbr></summary>
   <div>
    <pre>     <code class="language-css">
  @supports (grid-template-columns: repeat( var(--scale, 100), minmax(0, 1fr) )) {
   .chaarts.bar caption {
     text-align: initial;
     text-indent: 13.5rem;
   }

   .chaarts.bar tr {
     display: grid;
     grid-auto-rows: 1fr;
     grid-row-gap: .5rem;
     grid-template-columns: minmax(min-content, em( 200 ) ) repeat( var(--scale, 100), minmax(0, 1fr) ) 10ch;
     transition: opacity .2s cubic-bezier(.5, 0, .5, 1);
   }

   .chaarts.bar th {
     grid-column: 1 / 1;
     margin: .5rem 0 0;
     padding: 0 1rem 0 0;
     text-align: right;
   }

   .chaarts.bar td {
     --size: calc( var(--scale, 100) * 100% );
     --position: calc( var(--value, 0) / var(--scale, 100) * 100% );
     background-blend-mode: hard-light;
     background-position: var(--position) 0%, center;
     background-size: var(--size) 100%, contain;
     grid-column: 2 / var(--value, 0);
     margin: .5rem 0 0;
     position: relative;
   }

   .chaarts.bar span {
     background: inherit;
     -webkit-text-fill-color: transparent;
     -webkit-background-clip: text;
     font-weight: bold;
     left: 100%;
     line-height: 1.5;
     position: absolute;
   }

   /* @note À répéter pour chaque ligne, afin de les distinguer grâce à un motif */
   .chaarts.bar tr:nth-child(2n + 2) td {
     background-image:
       linear-gradient(to right,
         #01ac49,
         #444,
         mediumblue,
         rebeccapurple,
         crimson
       ),
      var(--stripes);
   }

   .chaarts.bar tbody:hover tr {
     opacity: .5;
   }

   .chaarts.bar tbody:hover tr:hover {
     opacity: 1;
   }

   @media screen and (-ms-high-contrast: active) {
     .chaarts.bar tr:nth-child(2n + 2) td {
       background-image:
         linear-gradient(to right,
            Window,
            ButtonFace,
            ButtonShadow,
            ButtonText,
            highlight
         ),
       var(--stripes);
     }
   }
  }</code>
    </pre>
   </div>
  </details>

  <h2>Graphique en chute d’eau</h2>

  <p>
   Le principe est le même pour cette variante, à un détail près :
   on gère également <strong>le point de départ</strong> pour chaque mesure
   — qui est, très simplement, la valeur du point précédent…
   Il faut cependant passer toutes les valeurs en tant que variables sur
   le parent <code><table></code>.
  </p>

   <div class="table-container bar-container" role="group" aria-labelledby="caption-2">
   <div class="fieldset d-flex sm-hidden">
    <p class="label no-margin">
     <strong id="label-2">Interrupteur</strong><br>
     <span id="description-2">Permet de désactiver les styles sur le tableau suivant.</span>
    </p>
    <button type="button" class="ml-auto fw-400 no-border p-relative disable-css" role="switch" aria-checked="true" aria-labelledby="label-2" aria-describedby="description-2">
     <span>Guilleret</span>
     <span>Sobre</span>
    </button>
   </div>

   <table class="chaarts bar waterfall" id="waterfall" style="--scale: 3000; --1: 4; --2: 96; --3: 102; --4: 129; --5: 188; --6: 194; --7: 326; --8: 836; --9: 836; --10: 2561; --11: 2980;">
    <caption id="caption-2">Temps de chargement pour <a href="https://www.ffoodd.fr" target="_blank" rel="noopener noreferrer">ffoodd.fr</a></caption>
    <thead class="sr-only">
     <tr>
      <td></td>
      <th scope="col">Temps de chargement cumulé</th>
     </tr>
    </thead>
    <tbody>
     
  <tr>
    <th scope="row">Temps : backend</th>
    <td style="--value: 4">
      <span>4 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Temps : Frontend</th>
    <td style="--value: 96">
      <span>96 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier octet</th>
    <td style="--value: 102">
      <span>102 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : dernier octet</th>
    <td style="--value: 129">
      <span>129 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : première image</th>
    <td style="--value: 188">
      <span>188 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier CSS</th>
    <td style="--value: 194">
      <span>194 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Délai : premier JS</th>
    <td style="--value: 326">
      <span>326 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">DOM Interactif</th>
    <td style="--value: 836">
      <span>836 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Chargement du DOM</th>
    <td style="--value: 836">
      <span>836 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">DOM complet</th>
    <td style="--value: 2561">
      <span>2561 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

     
  <tr>
    <th scope="row">Trafic HTTP terminé</th>
    <td style="--value: 2980">
      <span>2980 <abbr title="Milliseconde" aria-label="Milliseconde">ms</abbr></span>
    </td>
  </tr>

    </tbody>
   </table>
  </div>

  <details>
   <summary>Le <abbr lang="en" title="HyperText Markup Language" aria-label="HyperText Markup Language">HTML</abbr></summary>
   <div>
    <pre>     <code class="language-markup">
  <table class="chaarts bar waterfall"
     style="--scale: 3000; --1: 4; --2: 96; --3: 102; --4: 129; --5: 188; --6: 194; --7: 326; --8: 836; --9: 836; --10: 2561; --11: 2980;">
  </table>
     </code>
    </pre>
   </div>
  </details>
  <details>
   <summary>Le <abbr lang="en" title="Cascading StyleSheet" aria-label="Cascading StyleSheet">css</abbr></summary>
   <div>
    <pre>     <code class="language-css">
  .bar.waterfall tr:nth-of-type(2) td {
   grid-column: var(--1, 0) / var(--value, 0);
  }</code>
    </pre>
   </div>
  </details>

      </main>

      
        <script src="js/script.min.js" integrity="sha384-GSFLTHfMgenmEx6jFpCPYPrICTc7v02GoC3xiIvkFqR7kyjirVQ6f2MHDkHnBlKB" crossorigin="anonymous"></script>
        <script src="js/prism.min.js" integrity="sha384-0MFjDwTZ/C2v2TidAUN+xb3jb62cO99R2DqFEVRGsb06KJUzbcBaxDdWlG4gnjrv" crossorigin="anonymous"></script>
      

      
      
    

</body></html>